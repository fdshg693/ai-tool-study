# スラッシュコマンドの使い方

## よくあるコマンド
/add-dir・/agents・/clear・/config・/exit・/mcp・/review

## 珍しいコマンド
- /bashes
    - バックグラウンドタスクを管理する
- /compact [instructions]
    - 指示を短く要約する
- /context
    - 現在のチャットのコンテキスト情報を表示する
- /export [filename]
    - チャットの内容を指定したファイルにエクスポートする
- /hooks
    - ツールイベントフックを管理する
- /permissions
    - 権限を表示・編集する
- /sandbox
    - サンドボックス環境を有効・無効にする
- /rewind
    - チャット履歴・ファイル編集履歴を巻き戻す
- /todos
    - チャット内のTODOリストを管理する

## カスタムコマンドの作成方法

### 基本
```.claude/commands/```フォルダ配下に、MDファイルを作成することで、カスタムスラッシュコマンドを追加できる。  
サブフォルダ配下のコマンドファイルも利用可能。

### 追加引数を与えて、コマンドの内容を動的に書き換えることが可能
- #$ARGUMENTS 
    - 追加引数のリストを全て取得する
- $1, $2, etc.(1スタート)
    - 追加引数のうち、特定の位置の引数を取得する

### BASHコマンドの結果を動的にコマンドに埋め込むことが可能
- !`{bash command}`
    - bash commandを実行し、その結果をコマンドに埋め込む

### ファイル内容を動的にコマンドに埋め込むことが可能
- @{path/to/file}
    - 指定したファイルの内容をコマンドに埋め込む

### Frontmatterをサポート
```yml
---
# 許可するツールの指定
allowed-tools: Bash(git add:*), Bash(git status:*), Bash(git commit:*)
# コマンドに与える引数のヒント
argument-hint: [pr-number] [priority] [assignee]
# コマンドの説明（Claude Code自身が利用する場合に、参照される）
description: Review pull request
# 使用するモデルの指定
model: claude-3-5-haiku-20241022
# スラッシュコマンドからの呼び出しを無効化するか否か（デフォルトはfalse）
disable-model-invocation: false
---
```

## Plugin
コマンドと全く同様　　
ただし、公開されているマーケットプレイスや、別レポジトリのPluginなどを動的に読み込めるため、管理に便利。  
- 参考文献：https://code.claude.com/docs/en/plugin-marketplaces. 

## Claude Code自身に、スラッシュコマンドを使わせる
Claude Code自身に、スラッシュコマンドを使わせることで、コマンド内容を動的にコンテキストに追加できる。  
- 条件
    - ユーザ作成のカスタムコマンド（ビルトインコマンドは不可）、descriptionが記述されていること


#### 参考文献
https://code.claude.com/docs/en/slash-commands